<style>
  #pop-up-text {
    font-size: 17px;
    color: black;
  }

  #pop-up-heading {
    margin: 40px 0 25px 0;
    color: #3E79A5;
  }

  #pop-up-button {
    margin-top: 25px;
  }

  #pop-up-logo {
    margin-bottom: -5px;
  }

  @media (max-width: 576px) {
    #weekly-popup {
      padding-left: 15px;
      padding-right: 15px;
    }

    #pop-up-heading {
      font-size: 32px;
      margin: 35px 0 20px 0;
    }

    #pop-up-text {
      font-size: 15px;
      margin-bottom: -5px;
    }

    #mobile-br {
      display: none;
    }

    #pop-up-container {
      padding: 35px 25px !important;
    }

    #pop-up-logo {
      width: 80%;
      margin-bottom: -10px;
    }
  }
</style>

<div id="weekly-popup" style="display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.6);z-index:9999;align-items:center;justify-content:center;">
  <div style="position:relative; background:white;padding:40px 35px;border-radius:10px;text-align:center;" id="pop-up-container">
    <div id="close-popup" style="position:absolute;top:15px;right:15px;cursor:pointer;">
      {% render "icon-close" %}
    </div>
    <img src="https://cdn.shopify.com/s/files/1/0613/2835/9555/files/logo_5832e2e4-9eae-4c3b-ac64-3f63abff62ce.svg?v=1739109140" height="100%" width="300px" id="pop-up-logo">
    <h1 id="pop-up-heading">ðŸš§ Detour Alert! ðŸš§</h1>
    <p id="pop-up-text">Due to roadworks in the area, there's a detour on <br id="mobile-br">the way to our store. <br><br>Please UseÂ <span style="color: #60BE74;">Waze</span>Â <span style="color: #CF4B39;">& not Google Maps/Apple Maps.</span></p>
    <div class="col-12" id="pop-up-button">
    <a href="https://ul.waze.com/ul?place=ChIJx3ZQ5H9olR4RG4RRseOUL1s&ll=-25.89515120%2C28.25321130&navigate=yes&utm_campaign=default&utm_source=waze_website&utm_medium=lm_share_location" class="btn btn_zoom btn--secondary w-full-sp btn__animation-arrow" target="_blank">
      <span>Click For Directions</span>
    </a>
  </div>
  </div>
</div>

<script>
  (function(){
    const popup = document.getElementById('weekly-popup');
    const close = document.getElementById('close-popup');
    const last = localStorage.getItem('weeklyPopupDate');
    const now = new Date();

    if (!last || (now - new Date(last)) > 7 * 24 * 60 * 60 * 1000) {
      popup.style.display = 'flex';
      document.body.style.overflow = 'none';
    }

    close.addEventListener('click', function () {
      popup.style.display = 'none';
      document.body.style.overflow = '';
      localStorage.setItem('weeklyPopupDate', new Date());
    });
  })();
</script>